(this.webpackJsonpfirefly_systems_frontend=this.webpackJsonpfirefly_systems_frontend||[]).push([[0],[,,,,function(e,t,a){e.exports={mainDiv:"dso_mainDiv__3r86J",titleDiv:"dso_titleDiv__H-iak",titleText:"dso_titleText__VWclY",cardDiv:"dso_cardDiv__3lVdW",cardDivBack:"dso_cardDivBack__1Z8EP",cardTitle:"dso_cardTitle__2m7TK",titleComment:"dso_titleComment__1KLIl",systemTitleDiv:"dso_systemTitleDiv__3GUQ5",cardType:"dso_cardType__2LSir",cardFuel:"dso_cardFuel__O8NXR",cardCoords:"dso_cardCoords__x_L8W",cardDist:"dso_cardDist__3X88j",cardSpeed:"dso_cardSpeed__1XjjY"}},function(e,t,a){e.exports={mainDiv:"navigation_mainDiv__3G1pP",progressOuterDiv:"navigation_progressOuterDiv__1B_09",progressUpDiv:"navigation_progressUpDiv__24Tzw",progressLowDiv:"navigation_progressLowDiv__1GDw3",progressInnerDiv:"navigation_progressInnerDiv__3sc8I",buttonDiv:"navigation_buttonDiv__4o-rG",speedLevelUp:"navigation_speedLevelUp__1Pz53",speedLevelLow:"navigation_speedLevelLow__2SieB",task:"navigation_task__3EOcJ",borderUp:"navigation_borderUp__1Wa3F",borderLow:"navigation_borderLow__3qrAu",borderGray:"navigation_borderGray__14yBd",borderGreen:"navigation_borderGreen__2ZLAA",borderOrange:"navigation_borderOrange__bZBVb"}},,,,,function(e,t,a){e.exports={oisVector:"objectsInSpace_oisVector__zaZs3",oisTriangle:"objectsInSpace_oisTriangle__agrZU",oisCircle:"objectsInSpace_oisCircle__2V765",oisTrajectory:"objectsInSpace_oisTrajectory__1KCiH",oisSize:"objectsInSpace_oisSize__3WTOh",oisOutline:"objectsInSpace_oisOutline__2eGVu",oisOutlineText:"objectsInSpace_oisOutlineText__1qdad",theShip:"objectsInSpace_theShip__3t9gk",theShipTrajectory:"objectsInSpace_theShipTrajectory__mNaPP",blink:"objectsInSpace_blink__33qsF"}},function(e,t,a){e.exports={pathesAll:"trajectory_pathesAll__22T-e",dot:"trajectory_dot__197uB"}},function(e,t,a){e.exports={buttonBar:"programButton_buttonBar__2rn3t",button:"programButton_button__2ZGDA",buttonImg:"programButton_buttonImg__j_lRs",buttonText:"programButton_buttonText__225XD",engineButtonDiv:"programButton_engineButtonDiv__1n4Zb",startButtonDiv:"programButton_startButtonDiv__23lUJ",stopButtonDiv:"programButton_stopButtonDiv__1XwfW"}},,function(e,t,a){e.exports={App:"pilot_App__9rXTq",messages:"pilot_messages__3HUB6",programButtons:"pilot_programButtons__MDoKi",radar:"pilot_radar__3VgaM",timer:"pilot_timer__2x6Ii",navigationButtons1:"pilot_navigationButtons1__3VZ7F",navigationButtons2:"pilot_navigationButtons2__3-bnQ",selectionButtons:"pilot_selectionButtons__1KDD7",gameName:"pilot_gameName__3ZuZL"}},,function(e,t,a){e.exports={systemsDiv:"systems_systemsDiv__Yj2Kk",sysShip:"systems_sysShip__wDOns",sysName:"systems_sysName__4cOg0",sysGraph1:"systems_sysGraph1__nTtKc",sysGraph2:"systems_sysGraph2__3W0i-",sysGraph3:"systems_sysGraph3__39MDk",navComp1:"systems_navComp1__3WK3_",radar1:"systems_radar1__lXGrK",scaner1:"systems_scaner1__3zqLO",beacon1:"systems_beacon1__6ExnT",radio1:"systems_radio1__3_ShM",light1:"systems_light1__2u_gD",medLab1:"systems_medLab1__3lWj3",door1:"systems_door1__26Uf9",lifeSys1:"systems_lifeSys1__1Wng4",fuel1:"systems_fuel1__qQ5Or",gun1:"systems_gun1__2F4cv",supergun1:"systems_supergun1__Ppx_o",shield1:"systems_shield1__B7hLS",pow1:"systems_pow1__24UpH",pow2:"systems_pow2__2fr6l",manJet1:"systems_manJet1__HRe0_",manJet2:"systems_manJet2__3YqR1",manJet3:"systems_manJet3__1CJiT",manJet4:"systems_manJet4__lwkbf",mainJet1:"systems_mainJet1__333bw",floatingDiv:"systems_floatingDiv__3N53A",tmp:"systems_tmp__2sIYt"}},,,function(e,t,a){e.exports={title:"menuSelect_title__1764V",mainDiv:"menuSelect_mainDiv__3jn8Z",buttonsDiv:"menuSelect_buttonsDiv__1NdTX",buttonGroup:"menuSelect_buttonGroup__3gS5b",button:"menuSelect_button__2HnK7",buttonText:"menuSelect_buttonText__1XlpL"}},,,function(e,t,a){e.exports={gridRadius:"grid_gridRadius__2UkLg",gridCircle:"grid_gridCircle__3YVqK",gridInRing:"grid_gridInRing__uh4rO",gridOutRing:"grid_gridOutRing__3umYJ",gridRingText:"grid_gridRingText__3DKtF"}},,function(e,t,a){e.exports={CurtainOneQuarter:"curtain_CurtainOneQuarter__3A0mn",CurtainBackground:"curtain_CurtainBackground__27eHH"}},function(e,t,a){e.exports={title:"error_title__1kWY3",mainDiv:"error_mainDiv__3eBiq",buttonText:"error_buttonText__3dHJE"}},function(e,t,a){e.exports={mainDiv:"timer_mainDiv__2PzYM",progressOuterDiv:"timer_progressOuterDiv__38ZZM",progressInnerDiv:"timer_progressInnerDiv__2OSM0",textCounterDiv:"timer_textCounterDiv__dpm1P"}},,,function(e,t,a){e.exports={mainDiv:"mainScreen_mainDiv__1kEaD",menuDiv:"mainScreen_menuDiv__IuBcC",gamesDiv:"mainScreen_gamesDiv__QBSOM"}},function(e,t,a){e.exports={menuElement:"menu_menuElement__2b_r_",menuElementText:"menu_menuElementText__3ZL-f",menuElementImage:"menu_menuElementImage__1nDGa"}},function(e,t,a){e.exports={button:"systemButton_button__3lnvA",buttonImg:"systemButton_buttonImg__30z8_",gray:"systemButton_gray__zE7hW",red:"systemButton_red__3ufa9",green:"systemButton_green__2tZ3j"}},function(e,t,a){e.exports={Radar:"radar_Radar__1b1iz"}},,,function(e,t,a){e.exports={mainDiv:"spinner_mainDiv__EUN4V",title:"spinner_title__1JJ4G"}},function(e,t,a){e.exports={mainDiv:"messages_mainDiv__3ElK7",text:"messages_text__25wUN"}},,,,,,,,,,,function(e,t,a){e.exports={mainDiv:"sounds_mainDiv__xPYg2"}},,,function(e,t,a){e.exports=a(79)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(33),r=a.n(n),s=a(46),i=a(0),o=a.n(i),c=a(27),l=a.n(c),m=a(3),u=a(7),d=a(2),p=a(9),g=a(1),v=function(){function e(t){Object(u.a)(this,e),this.timeStamp=0,this.names=[],this.selected=[],this.current=void 0,Object(g.f)(this,{names:g.g,selected:g.g,current:g.g,listToSelect:g.c,list:g.c,setData:g.b,setCurrent:g.b}),this.rootStore=t}return Object(p.a)(e,[{key:"listToSelect",get:function(){return this.names.filter((function(e){return!e.hidden}))}},{key:"list",get:function(){var e=this;return console.log("Names: ",JSON.stringify(this.names)),this.selected.filter((function(t){return!e.names.find((function(e){return e.name===t})).hidden}))}},{key:"setData",value:function(e){e.timeStamp>this.timeStamp&&(this.names=Object(d.a)(e.names),this.selected=Object(d.a)(e.selected),this.selected[0]&&(this.current=this.selected[0]),this.timeStamp=e.timeStamp)}},{key:"setCurrent",value:function(e){this.current=e}}]),e}(),h=a(84),f=function(){function e(t){Object(u.a)(this,e),this.id=void 0,this.name=void 0,this.timeStamp=0,Object(g.f)(this,{id:g.g,name:g.g,setId:g.b}),this.rootStore=t}return Object(p.a)(e,[{key:"setId",value:function(){var e=localStorage.getItem("fireflyUserId");e||(e=Object(h.a)(),localStorage.setItem("fireflyUserId",e)),this.id=e}},{key:"setData",value:function(e){var t=e.name,a=e.timeStamp;a>this.timeStamp&&(this.name=t,this.timeStamp=a)}}]),e}(),_=function(){function e(t){Object(u.a)(this,e),this.error=void 0,this.errorText=void 0,Object(g.f)(this,{error:g.g,errorText:g.g,setError:g.b}),this.rootStore=t}return Object(p.a)(e,[{key:"setError",value:function(e,t){this.error=e,this.errorText=t}}]),e}(),y=function(){function e(t){Object(u.a)(this,e),this.timeStamp=0,this.data=[],this.maxFuelLevel=1e3,Object(g.f)(this,{data:g.g,maxFuelLevel:g.g,listNames:g.c,list:g.c,listPowers:g.c,listScreenNames:g.c,listPowerProduction:g.c,listPowerProductionScreenNames:g.c,fuel:g.c,setData:g.b}),this.rootStore=t}return Object(p.a)(e,[{key:"listNames",get:function(){return this.data.filter((function(e){return!e.hidden})).map((function(e){return e.name}))}},{key:"listScreenNames",get:function(){return this.list.filter((function(e){return e.power<0})).map((function(e){return e.screenName}))}},{key:"list",get:function(){return this.data.filter((function(e){return!e.hidden}))}},{key:"fuel",get:function(){var e=this.data.find((function(e){return"fuel1"==e.name}));return e?e.fuelStorage:0}},{key:"listPowers",get:function(){return this.list.filter((function(e){return e.power<0})).map((function(e){return-1*e.power*Number(e.switchedOn)}))}},{key:"listPowerProduction",get:function(){return this.list.filter((function(e){return e.power>0})).map((function(e){return e.power*Number(e.switchedOn)*e.effectiveness}))}},{key:"powerLevel",get:function(){return this.listPowerProduction.reduce((function(e,t){return e+t}),0)-this.listPowers.reduce((function(e,t){return e+t}),0)}},{key:"listPowerProductionScreenNames",get:function(){return this.list.filter((function(e){return e.power>0})).map((function(e){return e.screenName}))}},{key:"setData",value:function(e){e.timeStamp>this.timeStamp&&(this.data=Object(d.a)(e.data),this.maxFuelLevel=e.maxFuelLevel,this.timeStamp=e.timeStamp)}}]),e}(),b=a(18),E=a(34),S=a.n(E),N=function(e,t){return S.a.post("/api/users/"+e,t).then((function(e){return e.data}))},k=function(e){return S.a.get("/api/users/"+e).then((function(e){return e.data}))},D=function(e){return Number(e.toFixed(10))},x=function(e){return D(Math.PI*Number(e)/180)},O=function(e){return D(180*Number(e)/Math.PI)},j=function(e){return(e=D(e%360))<0&&(e+=360),e},L=function(e,t,a,n){return e=Number(e),t=Number(t),a=Number(a),n=Number(n),[D(e+Math.sin(x(a))*n),D(t+Math.cos(x(a))*n)]},w=function(e,t,a,n){return e=Number(e),t=Number(t),a=Number(a),n=Number(n),D(Math.sqrt(Math.pow(e-a,2)+Math.pow(t-n,2)))},C=function(e,t,a,n){e=Number(e),t=Number(t),a=Number(a),n=Number(n);var r=w(e,t,a,n),s=Math.acos((n-t)/r);return a<e&&(s=2*Math.PI-s),D(O(s))},T=function(){return Math.round(2*Math.round(Math.random())-1)},M=function(e,t){return D(Number(e)+T()*Number(t)*Math.random())},B=function(){function e(t){var a=this;Object(u.a)(this,e),this.timeStamp=0,this.timer=10,this.data={},this.program={selected:void 0,target:void 0,timeStamp:0,type:"",goes:!1,steps:6,curveParams:{}},this.navigationTask={right:[0,0,0,0,0,0,0],left:[0,0,0,0,0,0,0]},this.navigation={right:{level:0,levelUp:0,levelLow:0,task:0,taskWidth:15,speed:5,speedLevel:0,speedLevelUp:"",speedLevelLow:1,boost:0},left:{level:0,levelUp:0,levelLow:0,task:0,taskWidth:15,speed:5,speedLevel:0,speedLevelUp:"",speedLevelLow:1,boost:0}},this.navigationCheckEngines=function(){if(a.data.systems){var e=0;a.data.systems.find((function(e){return"manJet1"===e.name})).switchedOn&&e++,a.data.systems.find((function(e){return"manJet2"===e.name})).switchedOn&&e++,a.navigation.left.boost=e,e=0,a.data.systems.find((function(e){return"manJet3"===e.name})).switchedOn&&e++,a.data.systems.find((function(e){return"manJet4"===e.name})).switchedOn&&e++,a.navigation.right.boost=e}},this.navigationCheckTask=function(){if(a.program.goes&&1===a.timer){var e=a.navigation.right,t=a.navigation.left,n={menu:"pilot",action:"setTaskMistake",data:D((Math.abs(e.level-e.task)/e.taskWidth+Math.abs(t.level-t.task)/t.taskWidth)/2)};N(a.rootStore.user.id,n)}},this.programCurveInitParams=function(){var e,t=a.data.ship,n=a.program,r=[].concat(Object(d.a)(L(0,0,t.sysAngle,25)),[t.sysAngle,0,25+Math.round(75*Math.random())]),s=[],i=!1;if(n.selected){if("radar"===n.target){if(e=a.data.radar.find((function(e){return n.selected===e.id})),"attack"===n.type)s=[].concat(Object(d.a)(L(e.eX,e.eY,e.eA,e.size+2*e.speed+10)),[e.eA,0,50]),r[3]=P(e.speed,.15),s[3]=P(e.speed,.15),i=!0;else if("dock"===n.type)s=[].concat(Object(d.a)(L(e.eX,e.eY,e.eA+180,e.size+5)),[e.eA,0,75]),r[3]=P(e.speed,.5),s[3]=Math.round(25+25*Math.random()),i=!1;else if("orbit"===n.type){var o=90*(2*Math.round(Math.random())-1);s=[].concat(Object(d.a)(L(e.eX,e.eY,e.eA+o,e.size+35)),[e.eA,0,50+Math.round(50*Math.random())]),r[3]=P(e.speed,.15),s[3]=P(25,.5),i=!!Math.round(Math.random())}else if("evade"===n.type){var c=90*(2*Math.round(Math.random())-1);s=[].concat(Object(d.a)(L(e.eX,e.eY,e.eA+c,e.size+100)),[e.eA,0,50+Math.round(50*Math.random())]),r[3]=P(25,.5),s[3]=P(e.speed,.5),i=(c=j(e.eA-t.sysAngle))>=90&&c<=270}else if("course"===n.type){var l=Math.round(C(0,0,e.eX,e.eY));s=[].concat(Object(d.a)(L(0,0,l,500)),[l,0,50+Math.round(50*Math.random())]),r[3]=P(25,.5),s[3]=P(100,.7),i=!1}}else if((a.program.target="astro")&&"astro"===n.type){var m=Math.round(360*Math.random());s=[].concat(Object(d.a)(L(0,0,m,1200)),[m,0,100]),r[3]=P(25,.5),s[3]=P(125,.15),i=!1}var u={beginParams:r,endParams:s,front:i};a.program.curveParams=Object.assign(u,I(u))}},Object(g.f)(this,{data:g.g,setData:g.b,program:g.g,programReset:g.b,programCopyFromServer:g.b,programSetRadarSelected:g.b,programSetType:g.b,programCurveInitParams:g.b,programSetAstroSelected:g.b,timer:g.g,timerChangeValue:g.b,navigation:g.g,navigationChangeSpeed:g.b,navigationChangeLevel:g.b,navigationTask:g.g,navigationCreateTask:g.b,navigationCheckEngines:g.b,navigationCheckTask:g.b}),this.rootStore=t}return Object(p.a)(e,[{key:"navigationChangeSpeed",value:function(e,t){var a=this.navigation[t];this.program.goes&&(a.speedLevel=e?a.speedLevel<3?a.speedLevel+1:3:a.speedLevel>-3?a.speedLevel-1:-3)}},{key:"navigationChangeLevel",value:function(e){var t=this.navigation[e];if(6===this.program.steps)return t.level=0,t.levelUp=0,t.levelLow=0,t.speedLevel=0,t.speedLevelUp="",void(t.speedLevelLow=0);var a=Math.round(t.speed*t.speedLevel*t.boost);t.level=a>0?t.level+a<100?t.level+a:100:t.level+a>-100?t.level+a:-100,t.levelUp=t.level>0?t.level:0,t.levelLow=t.level<0?t.level:0,t.speedLevelUp=t.level>=0?"":Math.round(t.speedLevel*t.boost),t.speedLevelLow=t.level<0?"":Math.round(t.speedLevel*t.boost)}},{key:"navigationCreateTask",value:function(){var e=this,t={attack:[0,90,75,50,75,25,0],evade:[0,70,45,30,45,70,0],dock:[0,75,35,50,35,25,0],orbit:[0,30,60,60,35,25,0],course:[0,25,35,45,35,25,0],astro:[0,70,55,45,35,25,0]}[this.program.type];this.navigationTask={right:[],left:[]},t.forEach((function(t,a){var n=T();e.navigationTask.right.push(M(t,10)*[0,1,1,1,1,1,0][a]*n),e.navigationTask.left.push(M(t,10)*[0,1,-1,1,-1,1,0][a]*n)})),console.log("TASK: "+JSON.stringify(this.navigationTask))}},{key:"timerChangeValue",value:function(){this.timer--}},{key:"setData",value:function(e){var t=this;if(this.timerChangeValue(),this.navigationCheckEngines(),this.navigationChangeLevel("right"),this.navigationChangeLevel("left"),this.navigationCheckTask(),e.timeStamp>this.timeStamp&&(this.timer=10,this.data=Object.assign({},e.data),this.timeStamp=e.timeStamp),this.data.program.timeStamp>this.program.timeStamp&&this.programCopyFromServer(e),this.program.selected&&"radar"===this.program.target){var a=this.data.radar.find((function(e){return e.id===t.program.selected}));a?a.timeStamp>this.program.timeStamp&&(this.program.timeStamp=a.timeStamp,this.program.type&&this.programCurveInitParams()):this.programReset()}this.navigation.right.task=this.navigationTask.right[this.program.steps],this.navigation.left.task=this.navigationTask.left[this.program.steps]}},{key:"programReset",value:function(){this.program.selected=void 0,this.program.timeStamp=0,this.program.type="",this.program.target=void 0,this.program.goes=!1,this.program.steps=6,this.program.curveParams={}}},{key:"programCopyFromServer",value:function(e){var t=this.data.program;this.program.selected=t.selected,this.program.timeStamp=t.timeStamp,this.program.type=t.type,this.program.target=t.target,this.program.goes=t.goes,this.program.steps=t.steps,this.program.curveParams=t.curveParams}},{key:"programSetRadarSelected",value:function(e){(console.log("Selected: ",e),this.program.goes)||this.data.radar.find((function(t){return t.id===e}))&&(this.programReset(),this.program.selected=e,this.program.target="radar",this.program.timeStamp=this.timeStamp)}},{key:"programSetAstroSelected",value:function(e){this.program.goes||this.data.astro.objects.find((function(t){return t.name===e}))&&(this.programReset(),this.program.selected=e,this.program.target="astro",this.program.timeStamp=this.timeStamp+1)}},{key:"programSetType",value:function(e){var t=this;if(this.data.systems.find((function(e){return"navComp1"===e.name})).switchedOn&&!this.program.goes&&this.program.selected){var a;switch(this.program.type="",!0){case"attack"===e||"orbit"===e||"evade"===e||"dock"===e:a=this.data.radar.find((function(e){return e.id===t.program.selected})),"radar"===this.program.target&&w(0,0,a.eX,a.eY)<=500&&(this.program.type=e);break;case"course"===e:a=this.data.radar.find((function(e){return e.id===t.program.selected})),"radar"===this.program.target&&w(0,0,a.eX,a.eY)>500&&(this.program.type=e);break;case"astro"===e:"astro"===this.program.target&&(this.program.type=e)}this.program.type&&(this.programCurveInitParams(),this.program.timeStamp=this.timeStamp)}}}]),e}(),P=function(e,t){var a;a=e<25?25:a>125?125:e;for(var n=0;n<25||n>125;)n=Math.round(a*(1-t+2*t*Math.random()));return n},I=function(e){var t,a=Object(b.a)(e.beginParams,5),n=a[0],r=a[1],s=a[2],i=a[3],o=a[4],c=Object(b.a)(e.endParams,5),l=c[0],m=c[1],u=c[2],p=c[3],g=c[4],v=e.front,h=L(n,r,s,o),f=Object(b.a)(h,2),_=f[0],y=f[1],E=L(l,m,v?u:u+180,g),S=Object(b.a)(E,2),N=S[0],k=S[1],x=1,T=1;s=j(s),u=j(u);var M=D(j(C(_,y,N,k)-s));x=M>=0&&M<=180?1:-1;var B=D(j(C(N,k,_,y)-u));T=B>=0&&B<=180?1:-1;var P=L(_,y,s+90*x,i),I=L(N,k,u+90*T,p);w.apply(void 0,Object(d.a)(P).concat(Object(d.a)(I)))<=D(i+p)&&(I=L(N,k,u+90*(T*=-1),p),w.apply(void 0,Object(d.a)(P).concat(Object(d.a)(I)))<=D(i+p)&&(P=L(_,y,s+90*(x*=-1),i))),t=x*T*(v?1:-1);var A=C.apply(void 0,Object(d.a)(P).concat(Object(d.a)(I))),R=w.apply(void 0,Object(d.a)(P).concat(Object(d.a)(I))),F=D(O(Math.acos((i+t*p)/R))),Y=D(A-x*F),X=t>0?Y+180:Y,U=L.apply(void 0,Object(d.a)(P).concat([Y,i])),J=L.apply(void 0,Object(d.a)(I).concat([X,p])),G=[Math.round(U[0]),Math.round(U[1])],z=G[0],W=G[1],V=[Math.round(J[0]),Math.round(J[1])],Z=V[0],K=V[1],H=x>0?1:0,q=D(j(90+x*(Y-s))),Q=q>0&&q<180?0:1,$=x*t>0?0:1,ee=D(j((x*T*t>0?90:-90)+t*x*(X-u))),te=ee>0&&ee<180?0:1,ae=C(z,W,Z,K);return{curveSpecificParams:{bX0:n,bY0:r,bX:_,bY:y,bR:i,bArcPar1:Q,bDir:H,bX2:z,bY2:W,eX2:Z,eY2:K,eR:p,eArcPar1:te,eDir:$,eX:N,eY:k,eX0:l,eY0:m},coords:[{x:n,y:r,a:s},{x:_,y:y,a:s},{x:z,y:W,a:ae},{x:Z,y:K,a:ae},{x:N,y:k,a:v?u+180:u},{x:l,y:m,a:v?u+180:u}]}},A=function(){function e(t){Object(u.a)(this,e),this.timeStamp=0,this.soundsList={},this.playList=[],this.status=!0,Object(g.f)(this,{timeStamp:g.g,soundsList:g.g,playList:g.g,status:g.g,setData:g.b}),this.rootStore=t}return Object(p.a)(e,[{key:"setData",value:function(e){e.timeStamp>this.timeStamp&&(this.soundsList=Object.assign({},e.soundsList),this.status=e.status,this.playList=Object(d.a)(e.soundsPlayList),this.timeStamp=e.timeStamp,console.log("Sounds: ",JSON.stringify(this.playList)))}}]),e}(),R=new function e(){Object(u.a)(this,e),this.menus=new v(this),this.user=new f(this),this.error=new _(this),this.systems=new y(this),this.pilotData=new B(this),this.sounds=new A(this)},F=o.a.createContext(),Y=function(e){var t=e.children,a=e.store;return o.a.createElement(F.Provider,{value:a},t)},X=function(){return o.a.useContext(F)},U=a(19),J=a.n(U),G=a(81),z=a(82),W=a(48),V=function(e){var t=e.menus,a=e.callback;return o.a.createElement(G.a,{toggle:!0,vertical:!0,className:J.a.buttonGroup},t.map((function(e){return o.a.createElement(z.a,{className:J.a.button,key:e.name,type:"checkbox",variant:e.state?"primary":"secondary",checked:e.state,onChange:a(e.name)},o.a.createElement("p",{className:J.a.buttonText},e.name))})))},Z=Object(m.a)((function(){var e=X(),t=e.menus.listToSelect,a=Object(i.useState)(t.map((function(e){return{name:e.name,state:!1}}))),n=Object(b.a)(a,2),r=n[0],s=n[1];return o.a.createElement("div",{className:J.a.mainDiv},o.a.createElement("h2",{className:J.a.title},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b"),o.a.createElement(V,{menus:r,callback:function(e,t){return function(t){var a=Object(d.a)(r),n=a.findIndex((function(t){return t.name===e}));a[n]={name:e,state:t.currentTarget.checked},s(a)}}}),o.a.createElement("hr",null),o.a.createElement(W.a,{variant:"warning",onClick:function(){var t={menu:"menu",action:"set_menus",data:r.filter((function(e){return e.state})).map((function(e){return e.name}))};N(e.user.id,t)}},o.a.createElement("p",{className:J.a.buttonText},"\u0416\u043c\u0438 \u0435\u0441\u043b\u0438 \u0433\u043e\u0442\u043e\u0432!")))})),K=a(25),H=a.n(K),q=Object(m.a)((function(){var e=X().error;return o.a.createElement("div",{className:H.a.mainDiv},o.a.createElement("h2",{className:H.a.title},"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u0437\u043e\u0432\u0438\u0442\u0435 \u043c\u0430\u0441\u0442\u0435\u0440\u0430."),o.a.createElement("hr",null),o.a.createElement("p",{className:H.a.buttonText},"\u041a\u043e\u0434: ",e.error),o.a.createElement("p",{className:H.a.buttonText},"\u041e\u0448\u0438\u0431\u043a\u0430: ",e.errorText))})),Q=a(35),$=a.n(Q),ee=a(83),te=function(){return o.a.createElement("div",{className:$.a.mainDiv},o.a.createElement("p",{className:$.a.title},"Loading..."),o.a.createElement(ee.a,{animation:"border",role:"status",variant:"primary"}))},ae=a(29),ne=a.n(ae),re=a(30),se=a.n(re),ie=function(e){var t=e.status,a=e.text,n=e.clbSwitcher,r=t?"./images/green-button.png":"./images/red-button.png";return o.a.createElement("div",{className:se.a.menuElement},o.a.createElement("img",{src:r,className:se.a.menuElementImage,onClick:n(a),alt:""}),o.a.createElement("p",{className:se.a.menuElementText},a))},oe=function(e){var t=e.menuList,a=e.menuCurrentItem,n=e.menuSetCurrentItem,r=function(e){return function(){console.log(e," clicked!"),n(e)}};return o.a.createElement(o.a.Fragment,null,t.map((function(e,t){return o.a.createElement(ie,{status:e===a,text:e,clbSwitcher:r,key:e+10})})))},ce=a(16),le=a.n(ce),me=a(31),ue=a.n(me),de={power:"./images/systems/Reactor.png",fuel:"./images/systems/Fuel_1.png",mainJet:"./images/systems/Marsh_engine.png",maneuverJet:"./images/systems/Manevring_engine.png",door:"./images/systems/Exit.png",navComp:"./images/systems/Comp.png",lifeSys:"./images/systems/SJO.png",medLab:"./images/systems/Med.png",light:"./images/systems/Light.png",radar:"./images/systems/Scaner.png",scaner:"./images/systems/Radar.png",radio:"./images/systems/Radio.png",beacon:"./images/systems/Transponder.png",gun:"./images/systems/Weapon.png",supergun:"./images/systems/SuperWeapon.png",shield:"./images/systems/Shield.png"},pe=function(e){var t,a=e.system,n=void 0===a?{}:a,r=e.callBack;return t=n.broken?"red":n.switchedOn?"green":"gray",o.a.createElement("div",{className:ue.a.button+" "+ue.a[t],onClick:r},o.a.createElement("img",{className:ue.a.buttonImg,src:de[n.type]}))},ge=a(17),ve=a.n(ge),he=a(21),fe=a.n(he),_e={color:"#ffffff",fontSize:"20px",fontFamily:"Verdana, sans-serif"},ye={title:{text:"\u041f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u044d\u043d\u0435\u0440\u0433\u0438\u0438",style:_e},chart:{backgroundColor:"transparent",type:"bar",borderColor:"white"},legend:{enabled:!1},xAxis:{labels:{style:{color:"#ffffff",fontSize:"15px",fontFamily:"Verdana, sans-serif"},rotation:-60},opposite:!0,categories:[]},yAxis:{title:{text:"MWatt",style:_e},labels:{style:_e},max:60,reversed:!0},colors:["#fffdf8"],series:[]},be=function(e){var t=e.dataSet,a=void 0===t?[]:t,n=e.dataNames,r=void 0===n?[]:n;if(0===a.length)return console.log("CHART!"),o.a.createElement(o.a.Fragment,null);ye.xAxis.categories=Object(d.a)(r),ye.series[0]={data:a};var s=Object.assign({},ye);return o.a.createElement(o.a.Fragment,null,o.a.createElement(fe.a,{highcharts:ve.a,options:s,containerProps:{style:{height:"97.5%"}}}))},Ee={color:"#ffffff",fontSize:"20px",fontFamily:"Verdana, sans-serif"},Se={title:{text:"\u042d\u043d\u0435\u0440\u0433\u043e\u0437\u0430\u043f\u0430\u0441",style:Ee},chart:{backgroundColor:"transparent",type:"column",borderColor:"white"},legend:{enabled:!1},xAxis:{labels:{style:Ee,rotation:-35},categories:[]},yAxis:{title:{text:"MWatt",style:Ee},labels:{style:Ee},max:200},colors:["#7ccdde"],series:[]},Ne=function(e){var t=e.dataSet,a=void 0===t?[]:t,n=e.dataNames,r=void 0===n?[]:n;if(0===a.length)return console.log("CHART!"),o.a.createElement(o.a.Fragment,null);Se.xAxis.categories=Object(d.a)(r),Se.series[0]={data:a};var s=Object.assign({},Se);return o.a.createElement(o.a.Fragment,null,o.a.createElement(fe.a,{highcharts:ve.a,options:s,containerProps:{style:{height:"100%"}}}))},ke={color:"#ffffff",fontSize:"20px",fontFamily:"Verdana, sans-serif"},De=function(e){var t=e.dataSet,a=void 0===t?[]:t,n=e.dataNames,r=void 0===n?[]:n,s=e.maxFuelLevel,i=void 0===s?1e3:s;if(0===a.length)return console.log("CHART!"),o.a.createElement(o.a.Fragment,null);var c={title:{text:"\u0422\u043e\u043f\u043b\u0438\u0432\u043e",style:ke},chart:{backgroundColor:"transparent",type:"column",borderColor:"white"},legend:{enabled:!1},xAxis:{labels:{style:ke},categories:[]},yAxis:{labels:{style:ke},max:i,title:{enabled:!1}},colors:["#ffda15"],series:[]};c.xAxis.categories=Object(d.a)(r),c.series[0]={data:a};var l=Object.assign({},c);return o.a.createElement(o.a.Fragment,null,o.a.createElement(fe.a,{highcharts:ve.a,options:l,containerProps:{style:{height:"93.8%"}}}))},xe=Object(m.a)((function(){var e=X().systems,t=X().user.id;console.log("Powers: ",e.listPowerProduction);return o.a.createElement("div",{className:le.a.systemsDiv},o.a.createElement("div",{className:le.a.sysShip},e.list.map((function(e){return o.a.createElement("div",{key:e.name,className:le.a[e.name]},o.a.createElement(pe,{system:e,callBack:function(){return function(e){console.log("Clicked: ",e.name);var a="switchOn";e.switchedOn&&(a="switchOff");var n={menu:"systems",action:a,data:e.name};N(t,n)}(e)}}))}))),o.a.createElement("div",{className:le.a.sysName},o.a.createElement("div",{className:"gameTitleDiv"},o.a.createElement("p",{className:"gameTitleText"},"\u0421\u0438\u0441\u0442\u0435\u043c\u044b \u043a\u043e\u0440\u0430\u0431\u043b\u044f"))),o.a.createElement("div",{className:le.a.sysGraph1},o.a.createElement(De,{dataSet:[e.fuel],dataNames:["Tonns"],maxFuelLevel:e.maxFuelLevel})),o.a.createElement("div",{className:le.a.sysGraph2},o.a.createElement(Ne,{dataSet:[].concat(Object(d.a)(e.listPowerProduction),[e.powerLevel]),dataNames:[].concat(Object(d.a)(e.listPowerProductionScreenNames),["\u0412\u0441\u0435\u0433\u043e"])})),o.a.createElement("div",{className:le.a.sysGraph3},o.a.createElement(be,{dataSet:e.listPowers,dataNames:e.listScreenNames})))})),Oe=a(14),je=a.n(Oe),Le=a(32),we=a.n(Le),Ce=a(24),Te=a.n(Ce),Me=function(e){var t=e.halfScreen,a=void 0===t?600:t;e.halfRadar;return o.a.createElement("rect",{x:0,y:0,width:2*a,height:2*a,className:Te.a.CurtainBackground})},Be=function(e){var t=e.halfScreen,a=void 0===t?600:t,n=e.halfRadar,r=void 0===n?500:n,s=e.rotation,i=void 0===s?0:s;return o.a.createElement("g",{transform:"rotate(".concat(i,")")},o.a.createElement("path",{className:Te.a.CurtainOneQuarter,d:"M ".concat(-r," 0\n                A ").concat(r," ").concat(r," 0 0 1 0 ").concat(-r," \n                L ",0," ").concat(-a," \n                L ").concat(-a," ").concat(-a,"\n                L ").concat(-a," ",0," Z")}))},Pe=function(e){var t=e.halfScreen,a=void 0===t?600:t,n=e.halfRadar,r=void 0===n?500:n;return o.a.createElement("g",null,o.a.createElement(Be,{halfScreen:a,halfRadar:r,rotation:0}),o.a.createElement(Be,{halfScreen:a,halfRadar:r,rotation:90}),o.a.createElement(Be,{halfScreen:a,halfRadar:r,rotation:180}),o.a.createElement(Be,{halfScreen:a,halfRadar:r,rotation:270}))},Ie=a(22),Ae=a.n(Ie),Re=function(e){var t=e.halfScreen,a=void 0===t?600:t,n=e.halfRadar,r=void 0===n?500:n;return o.a.createElement("g",null,o.a.createElement("circle",{className:Ae.a.gridInRing,cx:0,cy:0,r:r}),o.a.createElement("circle",{className:Ae.a.gridOutRing,cx:0,cy:0,r:a}))},Fe=function(e){var t=e.radius,a=void 0===t?500:t,n=e.angle,r=void 0===n?0:n,s=e.textSize,i=void 0===s?12:s,c=String(Math.round(r));return o.a.createElement("g",{transform:"rotate(".concat(r,")")},o.a.createElement("path",{className:Ae.a.gridRadius,d:"M 0 ".concat(-.05*a," L 0 ").concat(-.97*a)}),o.a.createElement("text",{x:0,y:-1.015*a,dx:Math.round(-.3*i*c.length),className:Ae.a.gridRingText,fontSize:i},c))},Ye=function(e){var t=e.radius,a=void 0===t?500:t;return o.a.createElement("circle",{className:Ae.a.gridCircle,cx:0,cy:0,r:a})},Xe=function(e){for(var t=e.halfScreen,a=void 0===t?600:t,n=e.halfRadar,r=void 0===n?500:n,s=e.div,i=void 0===s?1:s,c=e.divCirc,l=void 0===c?1:c,m=[],u=[],d=0;d<i;d++)m.push(D(360*d/i));for(var p=0;p<l;p++)u.push(D(r*(p+1)/(l+1)));return o.a.createElement("g",null,m.map((function(e,t){return o.a.createElement(Fe,{key:t,radius:r,angle:e,textSize:Math.round(.7*(a-r))})})),u.map((function(e,t){return o.a.createElement(Ye,{key:t,radius:e})})),o.a.createElement(Re,{halfScreen:a-5,halfRadar:r,div:i}))},Ue=a(10),Je=a.n(Ue),Ge=function(e){var t=e.data,a=e.ship,n=e.selectCallBack,r=e.timer;return o.a.createElement("g",null,t.map((function(e,t){return o.a.createElement(ze,{key:t,data:e.data,vector:e.vector,color:e.color,outline:e.outline,ship:a,timer:r,callBack:n})})))},ze=function(e){var t=e.data,a=void 0===t?{}:t,n=e.ship,r=void 0===n?{sysAngle:0,shiftX:0,shiftY:0}:n,s=e.vector,i=void 0!==s&&s,c=e.color,l=void 0===c?"red":c,m=e.outline,u=void 0!==m&&m,d=e.timer,p=void 0===d?10:d,g=e.callBack,v=a.id,h=void 0===v?void 0:v,f=a.eX,_=void 0===f?0:f,y=a.eY,b=void 0===y?0:y,E=a.eA,S=void 0===E?0:E,N=a.name,k=void 0===N?"unknown":N,D=a.type,x=void 0===D?"unknown":D,O=(a.speed,a.size),j=void 0===O?0:O,L=a.initialPause,w=void 0===L?0:L;return o.a.createElement("g",null,w>0?"":o.a.createElement("g",{className:Je.a.blink,style:{opacity:"".concat(Math.round(100*Math.cos(Math.PI*(10-p)/20)),"%")}},i?o.a.createElement("path",{className:Je.a.oisVector,d:"M".concat(r.shiftX,",").concat(-r.shiftY," L").concat(_,",").concat(-b,")")}):"",o.a.createElement("g",{transform:"translate(".concat(_,",").concat(-b,")")},o.a.createElement("g",{transform:"rotate(".concat(S,")"),onClick:function(){g(h)}},o.a.createElement("path",{stroke:l,className:Je.a.oisTriangle,d:"M0 0 m -10 0 l10 -30 10 30 Z"}),o.a.createElement("circle",{stroke:l,fill:l,className:Je.a.oisCircle,cx:"0",cy:"0",r:"10"}),o.a.createElement("path",{stroke:l,className:Je.a.oisTrajectory,d:"M0 -1000 L0 1000"})),o.a.createElement("circle",{stroke:l,className:Je.a.oisSize,cx:"0",cy:"0",r:j}),u?o.a.createElement("g",{transform:"rotate(".concat(r.sysAngle,")")},o.a.createElement("text",{x:22,y:-43,fill:l,fontSize:15,className:Je.a.oisOutlineText},k),o.a.createElement("path",{stroke:l,className:Je.a.oisOutline,d:"M0 0 l20 -40 ".concat(10.5*k.length," 0")}),o.a.createElement("text",{x:22,y:-25,fill:l,fontSize:15,className:Je.a.oisOutlineText},x)):"")))},We=function(){return o.a.createElement("g",null,o.a.createElement("path",{className:Je.a.theShipTrajectory,d:"M0 -75 L0 -490"}),o.a.createElement("g",{transform:"scale(0.8)"},o.a.createElement("circle",{className:Te.a.CurtainBackground,cx:"0",cy:"0",r:"25"}),o.a.createElement("g",{transform:"translate(-25,-25)"},o.a.createElement("path",{className:Je.a.theShip,d:"M34.92,40.69h9v-.2A59.68,59.68,0,0,0,42,28.5a30.77,30.77,0,0,0-2.91-7.22c-2-3.44-3.88-4.48-3.9-4.49h0c-1.4-6.67-3.92-10.73-6.11-13.13A12.64,12.64,0,0,0,25,.49a12.64,12.64,0,0,0-4.12,3.17c-2.19,2.4-4.71,6.46-6.11,13.13h0s-1.91,1.05-3.9,4.49A30.77,30.77,0,0,0,8,28.5a59.68,59.68,0,0,0-1.87,12v.2h9v.14h0a13.43,13.43,0,0,0-1.9,2.32,13.2,13.2,0,0,0-1.33,2.62,10.75,10.75,0,0,0-.69,3.56v.19H38.83v-.19a10.75,10.75,0,0,0-.69-3.56,13.2,13.2,0,0,0-1.33-2.62,13.43,13.43,0,0,0-1.9-2.32h0Z"}))))},Ve=a(11),Ze=a.n(Ve),Ke=function(e){var t=e.curveParams,a=e.steps,n=void 0===a?5:a,r=t.curveSpecificParams,s=r.bX0,i=r.bY0,c=r.bX,l=r.bY,m=r.bR,u=r.bArcPar1,d=r.bDir,p=r.bX2,g=r.bY2,v=r.eX2,h=r.eY2,f=r.eR,_=r.eArcPar1,y=r.eDir,b=r.eX,E=r.eY,S=r.eX0,N=r.eY0;n>5&&(n=5);for(var k=[o.a.createElement("g",{key:"0"},o.a.createElement("path",{className:Ze.a.beginLine,d:"M".concat(s,",").concat(-i," L").concat(c," ").concat(-l)}),o.a.createElement("circle",{className:Ze.a.dot,cx:c,cy:-l,r:7})),o.a.createElement("g",{key:"1"},o.a.createElement("path",{className:Ze.a.path1,d:"M".concat(c,",").concat(-l," A").concat(m,",").concat(m," 0 ").concat(u," ").concat(d," ").concat(p,",").concat(-g)}),o.a.createElement("circle",{className:Ze.a.dot,cx:p,cy:-g,r:7})),o.a.createElement("g",{key:"2"},o.a.createElement("path",{className:Ze.a.path2,d:"M".concat(p,",").concat(-g," L").concat(v," ").concat(-h)}),o.a.createElement("circle",{className:Ze.a.dot,cx:v,cy:-h,r:7})),o.a.createElement("g",{key:"3"},o.a.createElement("path",{className:Ze.a.path3,d:"M".concat(v,",").concat(-h," A").concat(f,",").concat(f," 0  ").concat(_," ").concat(y," ").concat(b,",").concat(-E)}),o.a.createElement("circle",{className:Ze.a.dot,cx:b,cy:-E,r:7})),o.a.createElement("g",{key:"4"},o.a.createElement("path",{className:Ze.a.endLine,d:"M".concat(S,",").concat(-N," L").concat(b," ").concat(-E)}))],D=[],x=0;x<n;x++)D.push(k[4-x]);return o.a.createElement("g",{className:Ze.a.pathesAll},D)},He=Object(m.a)((function(){var e=X().pilotData,t=e.data,a=t.ship,n=t.radar,r=t.systems,s=e.program;if(!a)return"";var i=n.map((function(t){return{data:t,vector:e.program.selected===t.id,color:"red",outline:!0}})),c=r.find((function(e){return"radar1"===e.name})).switchedOn;return o.a.createElement("div",{className:we.a.Radar},o.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0,0,".concat(1100,",").concat(1100)},o.a.createElement(Me,{halfScreen:550,halfRadar:500}),o.a.createElement("g",{transform:"translate(".concat(550,",").concat(550,")")},o.a.createElement("g",{transform:"rotate(".concat(-a.sysAngle,")"),className:we.a.rotate},c?o.a.createElement("g",{transform:"translate(".concat(-a.shiftX,",").concat(a.shiftY,")")},e.program.type?o.a.createElement(Ke,{curveParams:s.curveParams,steps:s.steps}):"",o.a.createElement(Ge,{data:i,ship:a,timer:e.timer,selectCallBack:e.programSetRadarSelected.bind(e)})):""),o.a.createElement(Pe,{halfScreen:550,halfRadar:500}),o.a.createElement("g",{transform:"rotate(".concat(-a.sysAngle,")"),className:we.a.rotate},o.a.createElement(Xe,{halfScreen:550,halfRadar:500,div:12,divCirc:3})),c?o.a.createElement(We,null):"")))})),qe=a(26),Qe=a.n(qe),$e=Object(m.a)((function(){var e=X().pilotData,t=e.data.systems;if(!t)return"";var a=t.find((function(e){return"radar1"===e.name})).switchedOn;return o.a.createElement("div",{className:Qe.a.mainDiv},o.a.createElement("div",{className:Qe.a.progressOuterDiv},a?o.a.createElement("div",{style:{height:"".concat(10*e.timer,"%")},className:Qe.a.progressInnerDiv}):""),o.a.createElement("div",{className:Qe.a.textCounterDiv},a?e.timer:""))})),et=a(5),tt=a.n(et),at=[tt.a.borderGray,tt.a.borderGreen,tt.a.borderOrange],nt=Object(m.a)((function(e){var t=e.side,a=void 0===t?"right":t,n=X().pilotData,r=n.navigation[a],s=at[r.boost];r.task,r.taskWidth;return o.a.createElement("div",{className:tt.a.mainDiv},o.a.createElement("div",{className:"".concat(tt.a.buttonDiv," ").concat(s),onClick:function(){n.navigationChangeSpeed(!0,a)}},"+"),o.a.createElement("div",{className:tt.a.progressOuterDiv},o.a.createElement("div",{className:tt.a.progressUpDiv},o.a.createElement("div",{style:{height:"".concat(r.levelUp,"%")},className:tt.a.progressInnerDiv}),o.a.createElement("div",{className:tt.a.speedLevelUp},r.speedLevelUp)),o.a.createElement("div",{className:tt.a.progressLowDiv},o.a.createElement("div",{style:{height:"".concat(Math.abs(r.levelLow),"%")},className:tt.a.progressInnerDiv}),o.a.createElement("div",{className:tt.a.speedLevelLow},r.speedLevelLow)),o.a.createElement("div",{style:{height:"".concat(r.taskWidth/2,"%"),top:"".concat(50-r.task/2,"%")},className:"".concat(tt.a.task," ").concat(tt.a.borderUp)}),o.a.createElement("div",{style:{height:"".concat(r.taskWidth/2,"%"),bottom:"".concat(50+r.task/2,"%")},className:"".concat(tt.a.task," ").concat(tt.a.borderLow)})),o.a.createElement("div",{className:"".concat(tt.a.buttonDiv," ").concat(s),onClick:function(){n.navigationChangeSpeed(!1,a)}},"-"))})),rt=a(36),st=a.n(rt),it={attack:" : \u0410\u0442\u0430\u043a\u0430! ",evade:": \u041c\u0430\u043d\u0435\u0432\u0440 \u0443\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f. ",orbit:" : \u0412\u044b\u0445\u043e\u0434 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0443. ",dock:" : \u0421\u0442\u044b\u043a\u043e\u0432\u043a\u0430. ",course:" : \u0412\u044b\u0445\u043e\u0434 \u043d\u0430 \u043a\u0443\u0440\u0441. ",astro:" : \u0420\u0430\u0437\u0433\u043e\u043d. "},ot=["\u0424\u0438\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0446\u0438\u044f","\u0412\u0438\u0440\u0430\u0436","\u0421\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0431\u0438\u0442\u044b","\u0412\u0438\u0440\u0430\u0436","\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u0430\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0446\u0438\u044f","\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a \u043c\u0430\u043d\u0435\u0432\u0440\u0443"],ct=Object(m.a)((function(){var e=X().pilotData,t=e.data,a=t.ship,n=t.radar,r=t.astro,s=e.program,i=X().user.id;if(!n)return"";var c=void 0;"radar"===s.target&&(c=n.find((function(e){return e.id===s.selected}))),"astro"===s.target&&(c=r.objects.find((function(e){return e.name===s.selected})));var l=c?"".concat(c.type," ").concat(c.name," "):"",m=s.type?it[s.type]:"",u=s.goes?ot[s.steps-1]:"",d="".concat(l," ").concat(m," ").concat(u);return o.a.createElement("div",{className:st.a.mainDiv},o.a.createElement("div",{className:st.a.text,onDoubleClick:function(){N(i,{menu:"pilot",action:"eraseMessage",data:""})}},s.selected?d:a.message))})),lt=a(4),mt=a.n(lt),ut=function(e){var t=e.name,a=void 0===t?"":t;return o.a.createElement("div",{className:mt.a.titleDiv},o.a.createElement("p",{className:mt.a.titleText},a))},dt=function(e){var t=e.name,a=void 0===t?"":t;return o.a.createElement("div",{className:mt.a.systemTitleDiv},o.a.createElement("p",{className:mt.a.titleComment},"\u043a\u0432\u0430\u0434\u0440\u0430\u043d\u0442"),o.a.createElement("p",{className:mt.a.titleText},a))},pt=function(e){var t=e.card,a=e.selected,n=void 0!==a&&a,r=e.callBack,s=t.name,i=void 0===s?"unknown":s,c=t.type,l=void 0===c?"unknown":c,m=t.astroX,u=void 0===m?484:m,d=t.astroY,p=void 0===d?1825:d,g=t.astroZ,v=void 0===g?664:g,h=t.fuel,f=void 0===h?"":h;return o.a.createElement("div",{className:n?mt.a.cardDiv+" "+mt.a.cardDivBack:mt.a.cardDiv,onClick:function(){r(t.name)}},o.a.createElement("div",{className:mt.a.cardTitle},i),o.a.createElement("div",{className:mt.a.cardType},l),o.a.createElement("div",{className:mt.a.cardFuel},f?"F "+f:""),o.a.createElement("div",{className:mt.a.cardCoords},"C ",u,", ",p,", ",v))},gt=function(e){var t=e.card,a=e.selected,n=void 0!==a&&a,r=e.callBack,s=(t.id,t.name),i=void 0===s?"\u041f\u0435\u0440\u0441\u0435\u0444\u043e\u043d\u0430":s,c=t.type,l=void 0===c?"planet":c,m=t.eX,u=void 0===m?450:m,d=t.eY,p=void 0===d?0:d,g=t.speed,v=void 0===g?5:g;t.transponder;return o.a.createElement("div",{className:n?mt.a.cardDiv+" "+mt.a.cardDivBack:mt.a.cardDiv,onClick:function(){r(t.id)}},o.a.createElement("div",{className:mt.a.cardTitle},i),o.a.createElement("div",{className:mt.a.cardType},l),o.a.createElement("div",{className:mt.a.cardFuel},"A ",Math.round(j(C(0,0,u,p)))),o.a.createElement("div",{className:mt.a.cardDist},"D ",Math.round(w(0,0,u,p))),o.a.createElement("div",{className:mt.a.cardSpeed},"S ",Math.round(Number(v))))},vt=Object(m.a)((function(){var e=X().pilotData,t=e.data,a=t.astro,n=t.radar,r=t.systems,s=e.program;if(!a)return"";var i=r.find((function(e){return"beacon1"===e.name})).switchedOn;if(a.voyage)return o.a.createElement(ut,{name:"\u0412 \u043f\u0443\u0442\u0438..."});var c=a.objects.find((function(e){return a.current===e.name}));return o.a.createElement("div",{className:mt.a.mainDiv},o.a.createElement(dt,{name:c.name}),i?n.filter((function(e){return e.transponder})).map((function(t,a){return o.a.createElement(gt,{card:t,program:s,selected:"radar"===s.target&&s.selected===t.id,key:a,callBack:e.programSetRadarSelected.bind(e)})})):o.a.createElement("div",{className:mt.a.titleComment},"* * *"),o.a.createElement(ut,{name:"\u0412\u0435\u0440\u0441"}),c.directions?c.directions.map((function(t,a){var n=!1;return"astro"===s.target&&s.selected===t.name&&(n=!0),o.a.createElement(pt,{card:t,program:s,selected:n,key:a,callBack:e.programSetAstroSelected.bind(e)})})):"")})),ht=a(12),ft=a.n(ht),_t=[{name:"\u0410\u0442\u0430\u043a\u0430",type:"attack"},{name:"\u0423\u043a\u043b\u043e\u043d",type:"evade"},{name:"\u041e\u0440\u0431\u0438\u0442\u0430",type:"orbit"},{name:"\u0421\u0442\u044b\u043a",type:"dock"},{name:"\u041a\u0443\u0440\u0441",type:"course"},{name:"\u0420\u0430\u0437\u0433\u043e\u043d",type:"astro"}],yt="./images/buttonOn.png",bt="./images/buttonOff.png",Et="./images/Engine_ON.png",St="./images/Engine_Ready.png",Nt="./images/Engine_Broken.png",kt="./images/Start_ON.png",Dt="./images/Start_Ready.png",xt="./images/Start_OFF.png",Ot="./images/Stop_ON.png",jt="./images/Stop_OFF.png",Lt=Object(m.a)((function(){var e=X().pilotData,t=X().user.id,a=e.data,n=a.astro,r=a.systems;if(!n)return"";var s="";return s=r.find((function(e){return"mainJet1"===e.name})).switchedOn?n.engine?Et:St:Nt,o.a.createElement("div",{className:ft.a.engineButtonDiv,onClick:function(){N(t,{menu:"pilot",action:"engineStart",data:""})}},o.a.createElement("img",{className:ft.a.engineButtonImg,src:s}))})),wt=Object(m.a)((function(){var e=X().pilotData,t=X().user.id,a=e.program,n=e.navigation,r=!!(n.right.boost*n.left.boost),s=!!a.type,i=a.goes,c="";return c=r&&s?i?kt:Dt:xt,o.a.createElement("div",{className:ft.a.startButtonDiv,onClick:function(){if(r&&s){var a={menu:"pilot",action:"programStart",data:e.program};a.data.goes=!0,e.navigationCreateTask(),N(t,a)}}},o.a.createElement("img",{className:ft.a.engineButtonImg,src:c}))})),Ct=Object(m.a)((function(){var e=X().pilotData.program.goes,t=X().user.id;console.log("GoES: ",e);var a=e?Ot:jt;return o.a.createElement("div",{className:ft.a.stopButtonDiv,onClick:function(){N(t,{menu:"pilot",action:"programStop",data:""})}},o.a.createElement("img",{className:ft.a.engineButtonImg,src:a}))})),Tt=function(e){var t=e.state,a=void 0!==t&&t,n=e.title,r=void 0===n?"program":n,s=e.callBack,i=a?yt:bt;return o.a.createElement("div",{className:ft.a.button,onClick:s},o.a.createElement("span",{className:ft.a.buttonText},r),o.a.createElement("img",{className:ft.a.buttonImg,src:i}))},Mt=Object(m.a)((function(){var e=X().pilotData;X().user.id;return o.a.createElement("div",{className:ft.a.buttonBar},_t.map((function(t,a){return o.a.createElement(Tt,{state:e.program.type===t.type,title:t.name,key:a,callBack:function(){return e.programSetType(t.type)}})})))}));var Bt=function(){return o.a.createElement("div",{className:je.a.App},o.a.createElement("div",{className:je.a.programButtons},o.a.createElement(Mt,null)),o.a.createElement("div",{className:je.a.messages},o.a.createElement(ct,null)),o.a.createElement("div",{className:je.a.radar},o.a.createElement(He,null),o.a.createElement(Lt,null),o.a.createElement(wt,null),o.a.createElement(Ct,null)),o.a.createElement("div",{className:je.a.timer},o.a.createElement($e,null)),o.a.createElement("div",{className:je.a.navigationButtons1},o.a.createElement(nt,{side:"left"})),o.a.createElement("div",{className:je.a.navigationButtons2},o.a.createElement(nt,{side:"right"})),o.a.createElement("div",{className:je.a.selectionButtons},o.a.createElement(vt,null)),o.a.createElement("div",{className:je.a.gameName},o.a.createElement("div",{className:"gameTitleDiv"},o.a.createElement("p",{className:"gameTitleText"},"\u041f\u043e\u043b\u0451\u0442"))))},Pt=a(47),It=a.n(Pt),At=Object(m.a)((function(){var e=X().sounds,t=X().user.id,a=function(e,a){setTimeout((function(){!function(e){var a={menu:"sounds",action:"soundsPlayListDel",data:e};N(t,a),console.log("SEND SOUND: ",a)}(e)}),1e3*a)};return o.a.createElement("div",{className:It.a.mainDiv},e.playList.map((function(t,n){return t.loop||a(t.name,e.soundsList[t.name].time),o.a.createElement("div",{key:n},t.name,o.a.createElement("audio",{controls:!0,autoPlay:!0,loop:t.loop,src:e.soundsList[t.name].name}))})))})),Rt=Object(m.a)((function(){var e,t=X();switch(t.menus.current){case"systems":e=o.a.createElement(xe,null);break;case"news":e=o.a.createElement("div",{class:"gameTitleDiv"},o.a.createElement("p",{class:"gameTitleText"},"News"));break;case"pilot":e=o.a.createElement(Bt,null);break;default:e=""}return o.a.createElement("div",{className:ne.a.mainDiv},o.a.createElement("div",{className:ne.a.menuDiv},o.a.createElement(oe,{menuList:t.menus.list,menuCurrentItem:t.menus.current,menuSetCurrentItem:t.menus.setCurrent.bind(t.menus)})),o.a.createElement("div",{className:ne.a.gamesDiv},e),o.a.createElement(At,null))})),Ft=Object(m.a)((function(){var e=X(),t=void 0;return t=e.error.error?o.a.createElement(q,null):0===e.menus.names.length?o.a.createElement(te,null):0===e.menus.selected.length?o.a.createElement(Z,null):o.a.createElement(Rt,null),o.a.createElement(o.a.Fragment,null,t)}));a(76),a(77),a(78),a(41);function Yt(){return(Yt=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(R.user.id);case 3:t=e.sent,R.user.setData(t.user),R.menus.setData(t.menus),t.data.systems&&R.systems.setData(t.data.systems),t.data.pilot&&R.pilotData.setData(t.data.pilot),t.data.sounds&&R.sounds.setData(t.data.sounds),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error: ",e.t0),e.t0.response&&R.error.setError(e.t0.response.status,e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}R.user.setId(),console.log("USER_ID: "+R.user.id),l.a.render(o.a.createElement(Y,{store:R},o.a.createElement(Ft,null)),document.getElementById("root")),setInterval((function(){return Yt.apply(this,arguments)}),1e3)}],[[50,1,2]]]);
//# sourceMappingURL=main.47776be5.chunk.js.map